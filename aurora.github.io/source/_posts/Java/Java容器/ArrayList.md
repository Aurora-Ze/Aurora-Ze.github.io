---
title: ArrayList
categories: 基础
tags: 
	- 源码
---

谈谈arraylist

1.底层实现    是对象数组

2.构造方法   3种

3.扩容机制

默认大小是10

如果不指定大小，会先创建空数组，在添加元素的时候把数组扩容成10，然后放满都不会扩容，直到添加第11个元素

如果指定大小，比如5，那么放入第六个元素时才会进行扩容

扩容是每次容量*1.5倍，用了位运算

4.最大容量

整型最大值 - 8

大于这个值，就调用hugeCapacity方法，把容量变成整型的最大值

如果溢出，就抛出错误。

5.添加大量元素

添加大量元素时，arraylist会经过多次扩容，性能较低，这时候可以调用ensureCapacity方法，提前让数组扩容一次，以满足需求

