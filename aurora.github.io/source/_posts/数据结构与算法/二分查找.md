---
title: 二分查找
categories: 数据结构与算法
---

# 二分查找

### 一、最基础版

特点

- 循环条件：$left <= right，即left = right + 1时退出循环$

- 命中`target`直接返回，退出循环就说明没找到

这样的二分查找有个缺点，无法找到相同数字的边界，只能看情况找。

**例如数组[1,2,2,2,3]，查找2的话会命中中间的，无法处理边界。**

```java
public int search(int[] nums, int target) {
    int left = 0;
    int right = nums.length - 1;
    
    while (left <= right) {
        int mid = left + (right - left) / 2;
        if (nums[mid] == target) {
            return mid;
        } else if (nums[mid] < target) {
            left = mid + 1;
        } else if (nums[mid] > target) {
            right = mid - 1;
        }
    }
    return -1;
}
```

### 二、搜索左侧边界

**特点**

- **找到相同元素时收缩右侧边界，目的在于向左侧靠拢**
- 退出循环时$left = right + 1$，此时
  - `target`大于所有元素，会发生越界，返回`-1`
  - `left`没有命中，返回`-1`
  - `left`命中元素，返回`left`

```java
public int search(int[] nums, int target) {
    int left = 0;
    int right = nums.length - 1;
    
    while (left <= right) {
        int mid = left + (right - left) / 2;
        if (nums[mid] < target) {
           left = mid + 1;
        } else if (nums[mid] > target) {
            right = mid - 1
        } else if (nums[mid] == target) {//注意点1:收缩右侧边界
            right = mid - 1;
        }
    }
    //注意点2:判断越界、命中情况
    if (left == nums.length || nums[left] != target) {
        return -1;
    } else {
        return left;
    }
}
```

### 三、搜索右侧边界

**和左侧边界的方法类似，区别在于命中时要收缩左侧边界，即向右侧靠拢。**

```Java
public int search(int[] nums, int target) {
    int left = 0;
    int right = nums.length - 1;
    
    while (left <= right) {
        int mid = left + (right - left) / 2;
        if (nums[mid] < target) {
           left = mid + 1;
        } else if (nums[mid] > target) {
            right = mid - 1
        } else if (nums[mid] == target) {//注意点1:收缩右侧边界
            right = mid - 1;
        }
    }
    //注意点2:判断越界、命中情况
    if (left == nums.length || nums[left] != target) {
        return -1;
    } else {
        return left;
    }
}
```

