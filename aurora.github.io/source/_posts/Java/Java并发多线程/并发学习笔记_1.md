---
title: 并发学习笔记
categories: 并发
---

# 一、理解

## 原子性

最早接触`原子性`是在事务的四大特性中，当时理解的是事务要么全部完成，要么就失败回滚。

看了`并发编程实战后`，看到了对`原子性`的全新理解

> 假设有两个操作A和B，从执行A的线程来看，另一个线程执行B时，要么把B全部执行完，要么就完全不执行，那么A和B对彼此来说，都是原子的。

## this逃逸

> 在类的构造方法中，把**this引用**传递出去，就会造成**this逃逸**。
>
> 哪怕逃逸的语句是写在构造方法的最后一行，但因为JVM指令重排序，可能会让它先执行。

一种**常见的情况**就是在构造方法中启动了一个新线程，我们可以使用**工厂方法**来避免。

