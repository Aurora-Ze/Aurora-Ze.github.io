---
title: I/O模型
description: test
categories: I/O模型
---

#### 1. 传统IO模型

是阻塞式的，服务器监听客户端的请求

每来一个连接请求，服务器就创建一个线程去执行该请求

当请求数量较大时，需要创建非常多的线程，资源耗费大

而且它使用字节流的形式传输数据，效率不高

#### 2. NIO模型

又叫做非阻塞式IO，由**信道、选择器、缓冲区**构成

- Channel

是传统 IO Stream 流的升级版，支持双向传输

- Selector

从线程池中选择线程，来执行多个注册在它上的信道。

通过一定的选择机制，实现了IO多路复用

- Buffer

缓冲可以看作一块内存区域，先写入，后读取

#### 3. NIO的优势

1. IO是面向流的，只能按字节读取数据，并且只能从一端读到另一端，不能前后移动流中的数据

而NIO是面向缓冲区的，可以读取一块区域

2. IO是阻塞的，这意味着，当一个线程读取数据或写数据时，该线程被阻塞，直到有一些数据被读取，或数据完全写入，在此期间该线程不能干其他任何事情。而NIO是非阻塞的，不需要一直等待操作完成才能干其他事情，而是在等待的过程中可以同时去做别的事情，所以能最大限度地使用服务器的资源。
3. NIO引入了IO多路复用器selector。selector是一个提供channel注册服务的线程，可以同时对接多个Channel，并在线程池中为channel适配、选择合适的线程来处理channel。由于NIO模型中线程数量大大降低，线程切换效率因此也大幅度提高。

