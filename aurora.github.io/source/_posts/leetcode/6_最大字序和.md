---
title: 最大字序和
categories: leetcode
tags:
	- 动态规划
---

# 最大字序和

## 题目

给定数组`nums`，找到具有**最大和**的**连续**子数组，并返回最大和

这道题我们很容易就想到动态规划，然后一般状态定义有两种方式，$dp[i]$可以表示为

- 长度为 $i+1$ 的数组中连续子数组的最大和
- 以 $nums[i]$ 结尾的连续子数组的最大和

我们可以发现，第二种定义更适合状态转移

## 代码

```Java
public int maxSubArray(int[] nums) {
    int len = nums.length;
    int[] dp = new int[len];
    dp[0] = nums[0];
    int ans = dp[0];
    for (int i = 1; i < len; ++ i) {
        dp[i] = Math.max(dp[i-1] + nums[i], nums[i]);
        ans = Math.max(ans, dp[i]);
    }
    return ans;
}
```

**空间优化**

注意，因为数组中可能存在负数

所以如果想要从下标0开始遍历，就要让 `cur` 和 `ans` 的初始值为`Integer.MIN_VALUE`，这样会出现越界！

```Java
public int maxSubArray(int[] nums) {
    int len = nums.length;
    int cur = nums[0];
   
    int ans = cur;
    for (int i = 1; i < len; ++ i) {
        cur = Math.max(cur + nums[i], nums[i]);
        ans = Math.max(ans, cur);
    }
    return ans;
}
```

