---
title: 备忘录模式
categories: 设计模式
tags:
	- 设计模式之行为型
---

## 备忘录模式

#### 描述

通过另一个对象来存放当前对象的一些状态，然后在需要时，可以从备份中恢复到上一个状态

**相关元素**

- Originator：原始对象
- Caretaker：负责保存好备忘录
- Memento：备忘录，存储原始对象的状态。备忘录实际上有两个接口，一个是提供给 Caretaker 的窄接口：它只能将备忘录传递给其它对象；一个是提供给 Originator 的宽接口，允许它访问到先前状态所需的所有数据。理想情况是只允许 Originator 访问本备忘录的内部状态。

#### 类图

![img](https://gitee.com/aurora1004/pictures/raw/master/50678f34-694f-45a4-91c6-34d985c83fee.png)

**例子：**计算器保存上一次的两个数到备忘录中，在需要时可以直接回滚。