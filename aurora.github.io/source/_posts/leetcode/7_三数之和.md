---
title: 三数之和
categories: leetcode
tags:
	- 双指针
---

# 三数之和

## 描述

给定数组`nums`， 找出所有**不重复**的三元组$(a,b,c)$，满足$a+b+c=0$

## 思路

直接硬找肯定不行，可以先对他进行排序，这样至少看起来好了很多

然后再想想，题目要求找三个数之和等于0的，那么如果遍历到大于0的数字，是不是之后就不用再看了，这样范围又缩小了

然后我们考虑从头开始遍历的话，每次遍历到元素`a`，只要再从后面找到`b`和`c`满足条件即可

找`b`和`c`我们可以使用双指针来进行移动

## 代码

**逻辑**

- 对数组排序
- 从头开始遍历
  - 通过判断`i`与`i-1`来进行去重
  - 定义双指针，令指针向中间移动，直到`left`越过`right`
    - 求和并判断
    - 如果大于0，$right-1$
    - 如果小于0，$left+1$
    - 如果等于0，则记录答案，去重，更新指针

```Java
public List<List<Integer>> threeSum(int[] nums) {
    Arrays.sort(nums);
    int len = nums.length;
    List<List<Integer>> ans = new ArrayList<>();
    int i = 0;
    while (i < len && nums[i] <= 0) {
        while (i < len && i > 0 && nums[i] == nums[i-1] ) ++i;//注意点1 与前一个进行比较
        int left = i + 1;
        int right = len - 1;
        while (left < right) {
            // 求和
            int sum = nums[i] + nums[left] + nums[right];
            // 判断
            if (sum > 0) --right;
            else if (sum < 0) ++left;
            else {
                List<Integer> tmp = new ArrayList<>();
                tmp.add(nums[i]);
                tmp.add(nums[left]);
                tmp.add(nums[right]);
                ans.add(tmp);
                //注意点2 先去重，再更新
                while (left < right && nums[right] == nums[right-1]) --right;
                while (left < right && nums[left] == nums[left+1]) ++left;
                ++left;
                --right;   
            }
        }
        i ++;
    }
    return ans;
}
```

**去重注意点**

- **去重应该等元素判断过后，再去重，否则该元素就被忽视了**
- **`i`的去重可以是与前一个进行比较，以保证`i`一定被处理过**
- **`left`和`right`应该在找到目标后，再进行去重，然后更新下标**

